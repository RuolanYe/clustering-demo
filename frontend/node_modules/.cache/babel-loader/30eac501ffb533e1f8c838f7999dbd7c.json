{"ast":null,"code":"var _jsxFileName = \"/Users/sophiaye/Desktop/mern_projects/Clustering/frontend/src/components/Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useEffect, useState } from 'react';\nimport axios from 'axios'; // import {useSelector, useDispatch} from 'react-redux'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  // const dispatch = useDispatch()\n  const [imageList, setImageList] = useState();\n  const [postsFetched, setPostsFetched] = useState(false);\n  const [state, setState] = useState({\n    title: '',\n    image: null\n  });\n\n  const getItems = async () => {\n    // fetch('http://localhost:8000/api/images/')\n    // .then(results => results.json())\n    // .then(results => setImageList({items:results}), console.log(imageList));\n    const response = await fetch('http://localhost:8000/api/images/');\n    const results = await response.json();\n    setImageList(results);\n  };\n\n  useEffect(() => {\n    // async function fetchData() {\n    //     // You can await here\n    //     const response = await fetch('http://localhost:8000/api/images/')\n    //     setImageList(await response.json())\n    //   }\n    //   fetchData();\n    //   setPostsFetched(true);\n    const getLeads = async () => {\n      const response = await axios.get(\"http://localhost:8000/api/images/\"); // console.log('service')\n      // console.log(response)\n\n      return response.data;\n    };\n\n    getLeads();\n  }, []);\n\n  const handleChange = e => {\n    setState({ ...state,\n      [e.target.id]: e.target.value\n    });\n  };\n\n  const handleImageChange = e => {\n    setState({ ...state,\n      image: e.target.files[0]\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(state);\n    let form_data = new FormData();\n    form_data.append('image', state.image, state.image.name);\n    form_data.append('title', state.title); // form_data.append('content', this.state.content);\n\n    let url = 'http://localhost:8000/api/images/';\n    axios.post(url, form_data, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }).then(res => {\n      console.log(res.data);\n    }).catch(err => console.log(err));\n    setState({\n      title: ''\n    }); // this.setState({image: ''});\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Title\",\n          id: \"title\",\n          value: state.title,\n          onChange: handleChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"image\",\n          accept: \"image/png, image/jpeg\",\n          onChange: handleImageChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Dashboard, \"uRH8uHi2+UBKC9rSHOPiEMVomLc=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","Component","useEffect","useState","axios","Dashboard","imageList","setImageList","postsFetched","setPostsFetched","state","setState","title","image","getItems","response","fetch","results","json","getLeads","get","data","handleChange","e","target","id","value","handleImageChange","files","handleSubmit","preventDefault","console","log","form_data","FormData","append","name","url","post","headers","then","res","catch","err"],"sources":["/Users/sophiaye/Desktop/mern_projects/Clustering/frontend/src/components/Dashboard.js"],"sourcesContent":["import React ,{ Component, useEffect, useState } from 'react'\nimport axios from 'axios'\n// import {useSelector, useDispatch} from 'react-redux'\n\nfunction Dashboard() {\n    // const dispatch = useDispatch()\n    const [imageList, setImageList] = useState()\n    const [postsFetched, setPostsFetched] = useState(false);\n\n    const [state, setState] = useState({\n        title: '',\n        image: null\n    });\n\n    const getItems=async()=>{\n        // fetch('http://localhost:8000/api/images/')\n        // .then(results => results.json())\n        // .then(results => setImageList({items:results}), console.log(imageList));\n        const response = await fetch('http://localhost:8000/api/images/')\n        const results = await response.json()\n        setImageList(results)\n    };\n\n\n\n    useEffect(() => {\n        // async function fetchData() {\n        //     // You can await here\n        //     const response = await fetch('http://localhost:8000/api/images/')\n        //     setImageList(await response.json())\n        //   }\n        //   fetchData();\n        //   setPostsFetched(true);\n        const getLeads = async () => {\n\n            const response = await axios.get(\"http://localhost:8000/api/images/\")\n            // console.log('service')\n            // console.log(response)\n            \n            return response.data\n        }\n        getLeads()\n \n    }, [])\n\n    \n    const handleChange = (e) => {\n        setState({\n            ...state,\n            [e.target.id]: e.target.value\n        })\n      };\n    \n    const handleImageChange = (e) => {\n        setState({\n            ...state,\n            image: e.target.files[0]\n        })\n      };\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(state);\n        let form_data = new FormData();\n        form_data.append('image', state.image, state.image.name);\n        form_data.append('title', state.title);\n        // form_data.append('content', this.state.content);\n        let url = 'http://localhost:8000/api/images/';\n        axios.post(url, form_data, {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        })\n            .then(res => {\n              console.log(res.data);\n            })\n            .catch(err => console.log(err))\n      \n        \n        setState({title: ''});\n        // this.setState({image: ''});\n      };\n\n\n  return (\n    <div className=\"App\">\n        <form onSubmit={handleSubmit}>\n          <p>\n            <input type=\"text\" placeholder='Title' id='title' value={state.title} onChange={handleChange} required/>\n          </p>\n          <p>\n            <input type=\"file\"\n                   id=\"image\"\n                   accept=\"image/png, image/jpeg\"  onChange={handleImageChange} required/>\n          </p>\n          <input type=\"submit\"/>\n        </form>\n      </div>\n  )\n}\n\nexport default Dashboard"],"mappings":"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"},"metadata":{},"sourceType":"module"}